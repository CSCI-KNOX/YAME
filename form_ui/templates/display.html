<!DOCTYPE html>
<html>
    <head>
        <title>Display</title>
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css"/>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/forScroll.css') }}"/>
        <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='css/display.css') }}">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script type="text/javascript" src="slick/slick.min.js"></script>
        <script src="../static/js/tabs.js" defer></script>

        <!-- <meta http-equiv="refresh" content="1"> -->
    </head>
    <body>
      <div class="container">
      <div class="forAbout">
      <div class="about">
      {% set category = request.args.get('category') %}
      {% if category == 'people' %}
        {% set array = peoplecatarr %}
        {% set oldarray = tabsarr %}
      {% endif %}
      {% if category == 'Athletes' %}
        {% set array = athletesarr %}
        {% set oldarr = tabsarr %}
      {% endif %}
      {% if category == 'Astronauts' %}
        {% set array = astronautsarr %}
        {% set oldarray = tabsarr %}
      {% endif %}
      {% if category == 'history' %}
        {% set array = historycatarr %}
        {% set oldarray = tabsarr %}
      {% endif %}
      {% if array %}
      {% for oldarr in oldarray %}
          {% for i in range(oldarr.count()) %}
        <div id="Person{{ i }}" class="tabcontent">
          <div class='slider person_images' align='center'>
            <div><p><img id="personImg" src='../static/imj/{{ oldarr[0]['name'] }}_image1.jpg' width='400' height='320'></p></div>
            <div><p><img id="personImg" src='../static/imj/{{ oldarr[0]['name'] }}_image2.jpg' width='400' height='320'></p></div>
            <div><p><img id="personImg" src='../static/imj/{{ oldarr[0]['name'] }}_image3.jpg' width='400' height='320'></p></div>
          </div>
          <p>
            <div class="info">
            {% for key in oldarr[0] %}
              {% if key != 'paragraph1' and key != 'paragraph2' and key != 'paragraph3' %}
                <p class='{{ key }}'> {{ oldarr[0][key] }} </p>
              {% endif %}
            {% endfor %}
            <div class='slider paragraph'>
            {% for key in oldarr[0] %}
              {% if key == 'paragraph1' or key == 'paragraph2' or key == 'paragraph3' %}
                <div><p class='{{ key }}'> {{ oldarr[0][key] }} </p></div>
                {% endif %}
              {% endfor %}
            </div>
          </p>
        </div>
      </div>
        {% endfor %}
        {%endfor%}
    </div>
  </div>
  </div>
  <img id= 'greyCirc'src='../static/imj/greyCirc.png' >
    <div class="buttons">
      {% for arr in array %}
      {% for i in range(arr.count()) %}
        {% if arr[i]['iscategory'] == 1 %}
          <div><button class="tablink" onclick="openCity('Person{{ i }}', this); loadPage('{{ arr[i]['name'] }}')"><img src='../static/imj/{{ arr[i]['name'] }}_icon.jpg' ></button></div>
        {% else %}
          <div><button class="tablink" onclick="openCity('Person{{ i }}', this)"><img src='../static/imj/{{ arr[i]['name'] }}_icon.jpg' ></button></div>
        {% endif %}
        {% endfor %}
      {% endfor %}
      {% else %}
          <div id="Person{{ i }}" class="tabcontent">
          <div class='person_images' align='center'>
            <div><p><img id="personImg" src='../static/imj/default.jpg' width='400' height='320'></p></div>
          </div>
          <p>
            <div class="info">
            <div class='paragraph'>
              <p> There is no information here! </p>
            </div>
          </p>
        </div>
      </div>
      {% endif %}
      </div>
<!--       <button onclick="scrollMe('left')"> <img id="arrowL" src='../static/imj/arrowLeft.png' > </button>
      <button onclick="scrollMe('right')"> <img id="arrowR" src='../static/imj/arrowRight.png'> </button> -->

       <div class="categories">
       	<p class='tab1' onclick='loadPage("people")'> People </p>
       	<p class='tab2' onclick='loadPage("history")'> History </p>
       	<p class='tab3' onclick='loadPage("athletes")'> Athletics </p>
       </div>
       <img id= 'blackCirc'src='../static/imj/blackCirc.png' >
       <script type="text/javascript" src="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.0/slick/slick.min.js"></script>
    </body>

      <!-- adding jquery -->
    <script>

      $(document).ready(function(){
        $('.buttons').slick({
          infinite: true,
          slidesToShow: 3,
          slidesToScroll: 1,
          // autoplay: true,
          // autoplaySpeed: 2000,
        });
        $('.slider').slick({
          infinite: true,
          // autoplay: true,
          // autoplaySpeed: 2000,
        });
      });
    </script>
    <script type="text/javascript">
      function loadPage(arg) {
        var newstate = "?category=" + arg;
        window.history.replaceState(null, null, newstate);
        location.reload();
      }
    </script>
</html>
